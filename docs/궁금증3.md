## π– κ¶κΈμ¦ 3 : staleν•΄μ§„ μΏΌλ¦¬μ refetch-rerender flow

### μ»¤λ°‹ λ° κ°μ”

[μ»¤λ°‹μ€ μ”κΈ°!](https://github.com/juunzzi/react-query-playground/commit/0bdebb02dde482c89e99d1b5c5cc298bc2c95a03)

λ¬Έμ„μ— μν•λ©΄ Caching Flowλ” λ‹¤μκ³Ό κ°™λ‹¤.

μΏΌλ¦¬κ°€ λ§μ΄νΈ -> λ„¤νΈμ›ν¬ μ”μ²­ν•μ—¬ λ°μ΄ν„° λ λ”λ§ -> μΏΌλ¦¬ μΈμ¤ν„΄μ¤ μƒλ΅μ΄ λ§μ΄νΈ -> κµ¬μ‹ μΏΌλ¦¬ λ°μ΄ν„° λ λ”λ§ -> λ„¤νΈμ›ν¬ μ”μ²­ -> μΏΌλ¦¬ λ°μ΄ν„° μ—…λ°μ΄νΈ(μΊμ‹ μ—…λ°μ΄νΈ) -> μƒλ΅μ΄ μΏΌλ¦¬ λ°μ΄ν„° λ λ”λ§

μ¦‰ λ‘λ²μ§Έ μΏΌλ¦¬ λ§μ΄νΈμ—λ” refetch κ³Όμ •μ—μ„ stale ν• λ°μ΄ν„°λ΅ μΈν• λ λ”λ§, new λ°μ΄ν„°λ΅ μΈν• λ λ”λ§ μ΄ λ‘ λ²μ λ λ”λ§μ΄ λ°μƒν•λ‹¤.

μ΄ λ§μ΄ μ‚¬μ‹¤μΈμ§€λ¥Ό κ²€μ¦ν•λ‹¤. μ„ μ£Όμ¥μ€ [μ΄κ³³μ—μ„ λ°μ·](https://tanstack.com/query/v4/docs/guides/caching?from=reactQueryV3&original=https://react-query-v3.tanstack.com/guides/caching)

### κ²€μ¦

`useFetchTodoList` ν›…μ stale timeμ„ 3000, refetchIntervalμ„ 3000μΌλ΅ μ„¤μ •ν•μ—¬, 3μ΄λ§λ‹¤ stale queryμ refetch μ•΅μ…μ΄ νΈλ¦¬κ±°λλ„λ΅ ν™κ²½μ„ κµ¬μ„±ν• ν›„ ν• λ²μ refetchμ— stale data rendering, new data renderingμ΄ λ°μƒν•λ” μ§€λ¥Ό ν™•μΈν•λ‹¤.

### κ²°κ³Ό

ν• λ²μ refetch(λ„¤νΈμ›ν¬ μ”μ²­)μ— λ°μ΄ν„°λ¥Ό λ λ”λ§ν•λ” μ»΄ν¬λ„νΈκ°€ λ‘ λ² λ λ”λ§ λλ” λ¨μµμ„ ν™•μΈν•  μ μμ—λ‹¤. (κµ¬μ‹ λ°μ΄ν„°λ΅ ν•λ², μƒλ΅μ΄ λ°μ΄ν„°λ΅ ν•λ²!)

<img width="541" alt="image" src="https://user-images.githubusercontent.com/78349600/186855521-e32231a4-0b7c-4603-88b8-20070a0df3c6.png">
